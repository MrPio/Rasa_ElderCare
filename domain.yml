version: "3.1"

intents:
  - greet
  - goodbye
  - deny
  - stop
  - next_action
  - bot_challenge
  # Service info handling
  - app_detail
  - history_app_detail
  - operator_app_detail
  - security_app_detail
  # Service info handling
  - service_list_info
  - service_detail
  # Booking handling
  - new_booking
  - service_choice
  - provide_location
  - provide_preference_sex
  - provide_preference_car
  - provide_preference_medical_skills
  #- provide_preference_language
  - provide_preference_time
  - confirm_operator
  - confirm_booking

entities:
  - service
  - location
  - sex
  - car
  - med
  #- language
  - time
  - operator

responses:
  utter_greet:
  - text: "Ciao! Sono ElderCare, il chatbot di assistenza per anziani. Posso aiutarti fornendo informazioni generali sulla piattaforma, sui tipi di servizi, su come effettuare una nuova prenotazione o consultare lo storico dei servizi richiesti. Come posso aiutarti oggi?"
  utter_goodbye:
  - text: "Arrivederci"
  utter_deny:
  - text: "Va bene, se hai bisogno di aiuto, sono qui."
  utter_iamabot:
  - text: "Sono un bot, creato con Rasa."
  utter_next_action:
  - text: "Cosa vuoi fare ora? Posso aiutarti fornendo informazioni generali sulla piattaforma, sui tipi di servizi, su come effettuare una nuova prenotazione o consultare lo storico dei servizi richiesti."
  utter_new_booking: 
  - text: "Quale servizio vuoi prenotare?"
  utter_ask_sex_preference:
  - text: "Hai una preferenza sul sesso dell'operatore? (m/f)"
  utter_ask_car_preference:
  - text: "Preferisci un operatore automunito? (si/no)"
  utter_ask_medical_skills_preference:
  - text: "Hai bisogno di un operatore con competenze mediche? (si/no)"
  #utter_ask_language_preference:
  #- text: "Quale lingua preferisci che parli l'operatore?"
  utter_ask_time_preference:
  - text: "In quale fascia oraria ti sarebbe comodo l'intervento? (es. 14:00-16:30)"
  utter_confirm_booking:
  - text: "Confermi la prenotazione del servizio {service} presso {location} con le preferenze espresse per la fascia oraria {time}?"
  utter_booking_confirmed:
  - text: "Prenotazione confermata! Grazie per aver scelto ElderCare."
  utter_app_detail:
  - text: "EldenCare è un'app nata per assistere gli anziani che rimangono da soli. Per evitare ciò è possibile effettuare una prenotazione di vari servizi di assistenza che verrà poi accettata da un nostro volontario. Questi ragazzi svolgono tale compito senza alcuna remunerazione economica mettendo il benessere comune al primo posto."
  utter_history_app_detail:
  - text: "Sono stata sviluppata da un team di studenti del corso di Ingegneria informatica dell'università politecnica delle Marche. Il progetto è stato realizzato nell'ambito del corcorso HACK-AI-TON 2024."
  utter_operator_app_detail:
  - text: "Gli operatori sono volontari che si offrono di assistere gli anziani che rimangono da soli, quindi non sono previsti costi per chi richiede il servizio. Questi ragazzi svolgono tale compito senza alcuna remunerazione economica. Tuttavia al raggiungimento di un determinato numero di ore, ricevono buoni pasto e sconti presso vari negozi"
  utter_security_app_detail:
  - text: "Per garantire la sicurezza degli anziani, gli operatori vengono sottoposti a controlli preventivi ed è necessario fornire tutti i documenti necessari. Inoltre, è possibile visualizzare le recensioni degli operatori e lasciare la propria valutazione dopo l'intervento. Qualora sorgessero dei problemi non esitate a contattarci, siamo sempre a disposizione per risolvere qualsiasi problema."

slots:
  service:
    type: text
    mappings:
      - type: from_entity
        entity: service
  location:
    type: text
    mappings:
      - type: from_entity
        entity: location
  sex:
    type: text
    mappings:
      - type: from_entity
        entity: sex
  car:
    type: text
    mappings:
      - type: from_entity
        entity: car
  med:  
    type: text
    mappings:
      - type: from_entity
        entity: med
  #language:
  #  type: text
  #  mappings:
  #    - type: from_entity
  #     entity: language
  time:
    type: text
    mappings:
      - type: from_entity
        entity: time
  operator:
    type: text
    mappings:
      - type: from_entity
        entity: operator

actions:
  - action_service_list_info
  - action_service_detail
  - action_set_service_location
  - action_find_available_operator

session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true
